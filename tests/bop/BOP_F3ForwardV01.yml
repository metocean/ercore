# erall -h 
#
# erall ross_test01.yml 20100101_00z 20100130_00z


diffusers:
- class: ConstantDiffuser
  diffx: 0.001
  diffy: 0.001
  diffz: 1.0e-05
  id: diff
  vars: [diffx, diffy, diffz]

stickers:
  - 
    class: GriddedTopo
    file: '../../BOP_POM_Hindcast/BOP2010010100.nc'
    id: 'depth'
    vars: [dep]
    zinvert: true

  - 
    class: Shoreline
    file: shoreline.bnd
    id: shoreline
  

movers:
- class: GriddedMover
  file: '../../BOP_POM_Hindcast/BOP%Y%m%d%H.nc'
  id: currents
  topo: depth
  vars: [um, vm]

  # 4 corners

materials:
- class: PassiveTracer
  id: p1  
  outfile : p1.dat
  P0: [177.2147235,-37.87237508,0]
  # polygon: [ (x0,y0), (x1,y1), ..., (x0,y0) ] 
  polygon: [!!python/tuple [177.214978,-37.908414],!!python/tuple [177.214723,-37.872375],!!python/tuple [177.322697,-37.871846],!!python/tuple [177.322995,-37.907884],!!python/tuple [177.214978,-37.908414]]
  movers: [currents]
  diffusers: [diff]
  stickers: [shoreline]
  unstick: 1
  nbuff: 10000
  #reln: 17520   # Number of particles between tstart and tend, 1 hourly, 2 years
  reln: 35000
  R0: 1      # Total release of material
  Q0: 0      # Flux of material (per day) 
  maxage : 14
  tstart : 2010-01-01 00:00:00
  tend:    2011-12-15 00:00:00
  tstep: 0.


  
 
#       id: Unique id
#       nbuff: Total number of particles in buffer
#       movers: List of mover id strings
#       reactors: List of reactor id strings
#       stickers: List of sticker id strings
#       diffusers: List of diffuser id strings
#       tstart: Starting time for release
#       tend: Ending time for release
#       tstep: Timestep of release
#       outfile: Filename of output file
#       P0: Initial position of release - Note the convention of particle vertical level Z is negative downards, where sea surface=0m i.e. -10 s 10 m below sea surface
#       spawn: Number of spawned particles (per day)
#       reln: Number of particles per release
#       R0: Total release of material
#       Q0: Flux of material (per day) 
#       **properties: Optional keyword arguments specifying additional properties

#  def __init__(self,id,nbuff,movers=[],reactors=[],stickers=[],diffusers=[],tstart=None,tend=None,tstep=0.,tstep_release=0.,outfile=None,P0=[0,0,0],spawn=1,reln=0,R0=1.,Q0=1.,unstick=0.,**prop):
